<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://pg-language-server.com/main/guides/vcs_integration/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Integrate with VCS - Postgres Language Server</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Integrate with VCS";
        var mkdocs_page_input_path = "guides/vcs_integration.md";
        var mkdocs_page_url = "/main/guides/vcs_integration/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Postgres Language Server
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../getting_started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../manual_installation/">Manual Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../configuration/">Configuration</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/syntax_diagnostics/">Syntax Diagnostics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/linting/">Linting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/database_linting/">Database Linting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/type_checking/">Type Checking</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/plpgsql/">PL/pgSQL Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/editor_features/">Autocompletion & Hover</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../ide_setup/">Use in your IDE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../checking_migrations/">Checking Migrations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure_database/">Configure database connection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suppressions/">Suppressions</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Integrate with VCS</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#use-the-ignore-file">Use the ignore file</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#process-only-changed-files">Process only changed files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#process-only-staged-files">Process only staged files</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../continuous_integration/">Continuous Integration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/">CLI Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/rules/">Linter Rules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/rule_sources/">Linter Rule Sources</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/database_rules/">Database Linter Rules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/database_rule_sources/">Database Linter Rule Sources</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/env_variables/">Environment Variables</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Postgres Language Server</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Guides</li>
      <li class="breadcrumb-item active">Integrate with VCS</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/supabase-community/postgres-language-server/edit/master/docs/guides/vcs_integration.md">Edit on supabase-community/postgres-language-server</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="integrate-with-vcs">Integrate with VCS</h1>
<p>The VCS (Version Control System) integration is meant to take advantage of additional features that only a VCS can provide. These features include ignoring files based on your VCS ignore patterns, checking only changed files, and checking staged files before commits.</p>
<p>The integration is opt-in. You have to enable <code>vcs.enabled</code> and set <code>vcs.clientKind</code> in the configuration file:</p>
<pre><code class="language-json">{
  &quot;vcs&quot;: {
    &quot;enabled&quot;: true,
    &quot;clientKind&quot;: &quot;git&quot;
  }
}
</code></pre>
<p>This configuration doesn’t do anything per se. You need to opt-in the features you want.</p>
<h2 id="use-the-ignore-file">Use the ignore file</h2>
<p>Enable <code>vcs.useIgnoreFile</code>, to to ignore all the files and directories listed in the project’s VCS ignore file as well as a <code>.ignore</code> file.</p>
<pre><code class="language-json">{
  &quot;vcs&quot;: {
    &quot;enabled&quot;: true,
    &quot;clientKind&quot;: &quot;git&quot;,
    &quot;useIgnoreFile&quot;: true
  }
}
</code></pre>
<h2 id="process-only-changed-files">Process only changed files</h2>
<p>This is a feature that is available only via CLI, and allows processing only the files that have changed from one revision to another.
First, you have to update your configuration file with the default branch via the <code>vcs.defaultBranch</code> field:</p>
<pre><code class="language-json">{
  &quot;vcs&quot;: {
    &quot;enabled&quot;: true,
    &quot;clientKind&quot;: &quot;git&quot;,
    &quot;useIgnoreFile&quot;: true,
    &quot;defaultBranch&quot;: &quot;main&quot;
  }
}
</code></pre>
<p>Add the <code>--changed</code> option to your command to process only those files that your VCS acknowledged as “changed”. The language server will determine the changed files from the branch <code>main</code> and your current revision:</p>
<pre><code class="language-shell">postgres-language-server check --changed
</code></pre>
<p>Alternatively, you can use the option <code>--since</code> to specify an arbitrary branch. This option takes precedence over the option <code>vcs.defaultBranch</code>. For example, you might want to check your changes against the <code>next</code> branch:</p>
<pre><code class="language-shell">postgres-language-server check --changed --since=next
</code></pre>
<h2 id="process-only-staged-files">Process only staged files</h2>
<p>Before committing your changes, you may want to check the files that have been added to the index, also known as staged files. Add the <code>--staged</code> option to process only those files:</p>
<pre><code class="language-shell">postgres-language-server check --staged
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../suppressions/" class="btn btn-neutral float-left" title="Suppressions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../continuous_integration/" class="btn btn-neutral float-right" title="Continuous Integration">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/supabase-community/postgres-language-server" class="fa fa-code-fork" style="color: #fcfcfc"> supabase-community/postgres-language-server</a>
        </span>
    
    
      <span><a href="../suppressions/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../continuous_integration/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
