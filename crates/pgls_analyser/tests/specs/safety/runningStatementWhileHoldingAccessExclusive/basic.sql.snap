---
source: crates/pgt_analyser/tests/rules_tests.rs
expression: snapshot
snapshot_kind: text
---
# Input
```
-- expect_only_lint/safety/runningStatementWhileHoldingAccessExclusive
-- Running SELECT after ALTER TABLE should trigger the rule
ALTER TABLE authors ADD COLUMN email TEXT NOT NULL;
SELECT COUNT(*) FROM authors;
```

# Diagnostics
lint/safety/runningStatementWhileHoldingAccessExclusive ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Running statement while holding ACCESS EXCLUSIVE lock.
  
  i This blocks all access to the table for the duration of this statement.
  
  i Run this statement in a separate transaction to minimize lock duration.
